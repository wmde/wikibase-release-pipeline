# shellcheck disable=2034 # unused variable
WMDE_RELEASE_VERSION=wmde.15-prerelease

WIKIBASE_BRANCH_NAME=REL1_40
MEDIAWIKI_BRANCH_NAME=REL1_40

MEDIAWIKI_MAJOR_VERSION=1.40
MEDIAWIKI_VERSION=1.40.1

RELEASE_MAJOR_VERSION=1.40
RELEASE_VERSION=1.40.1

# WDQS_VERSION 0.3.135 is latest release on 2023-10-11
# as per https://github.com/wikimedia/wikidata-query-rdf/tags
# and https://archiva.wikimedia.org/repository/releases/org/wikidata/query/rdf/service/
WDQS_VERSION=0.3.135

# Head of master on 2023-10-11
# as per https://github.com/wikimedia/wikidata-query-gui/
WDQS_FRONTEND_COMMIT_HASH=4e94cdecec4aaa252465429dc9024b3dcc0056b5


# NOTE ELASTICSEARCH_VERSION 7.10.3+ is release under a non-osi approved license
# 7.10.2 is currently being used by the WMF 20230223
ELASTICSEARCH_VERSION=7.10.2
ELASTICSEARCH_PLUGIN_EXTRA_VERSION=7.10.2-wmf4

# https://docker-registry.wikimedia.org/releng/composer-php82/tags/
COMPOSER_IMAGE=docker-registry.wikimedia.org/releng/composer-php82:0.1.0-s3

# https://hub.docker.com/_/mediawiki
MEDIAWIKI_IMAGE=mediawiki:1.40.1

# https://hub.docker.com/_/mariadb
MARIADB_IMAGE=mariadb:10.9

# https://hub.docker.com/_/nginx 
NGINX_IMAGE=nginx:1.25.3-bookworm

# https://hub.docker.com/_/node
# TODO: move to debian for consistency
# TODO: upgrade, end of life
NODE_IMAGE=node:14.21.3-alpine3.17

# https://hub.docker.com/_/php
PHP_IMAGE=php:8.1.25-apache-bookworm

# TODO: upgrade, end of life
JDK_IMAGE=openjdk:8-jdk-alpine

# https://hub.docker.com/_/debian
DEBIAN_IMAGE=debian:bookworm-slim

# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/refs/heads/REL1_40
WIKIBASE_COMMIT=7a9b1f09f46e5feca3596168fdbcbeb25100c624
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Babel/+/refs/heads/REL1_40
BABEL_COMMIT=1e1081ed52fedee17cef7be838930d50964cb2a9
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/cldr/+/refs/heads/REL1_40
CLDR_COMMIT=2508ca06ff0dfe8ef4aa247f587f079f70db385e
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CirrusSearch/+/refs/heads/REL1_40
CIRRUSSEARCH_COMMIT=63130bc16b1cfb59659f0726784d37dd796f2a32
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ConfirmEdit/+/refs/heads/REL1_40
CONFIRMEDIT_COMMIT=dd1f631e222162fe22138cd8d981ffd4069157d2
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Elastica/+/refs/heads/REL1_40
ELASTICA_COMMIT=7bffadfb85b51c7e0755c16cc950a330a9151fb4
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/EntitySchema/+/refs/heads/REL1_40
ENTITYSCHEMA_COMMIT=0badbcd9e6d566bbb6356e7a621ac0887320b462
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Nuke/+/refs/heads/REL1_40
NUKE_COMMIT=089c29c96e0818cb9391c30e3c127b6fb5fcdff5
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/OAuth/+/refs/heads/REL1_40
OAUTH_COMMIT=fb2f037b73b4c873528cc426c4165038d5276727
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Scribunto/+/refs/heads/REL1_40
SCRIBUNTO_COMMIT=cdecb51ccfda77a8ab05a2b4663336ebf91d2dc6
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/SyntaxHighlight_GeSHi/+/refs/heads/REL1_40
SYNTAXHIGHLIGHT_GESHI_COMMIT=d0cf937d6a39431ff113d708dab08cb496ff8335
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/UniversalLanguageSelector/+/refs/heads/REL1_40
UNIVERSALLANGUAGESELECTOR_COMMIT=51ea41a7066d51dcd245c6fa47fe47c71ee5189a
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/VisualEditor/+/refs/heads/REL1_40
VISUALEDITOR_COMMIT=58d7d809829b4e326f1b8a0b69f83bae2ab851f7
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikibaseCirrusSearch/+/refs/heads/REL1_40
WIKIBASECIRRUSSEARCH_COMMIT=0e3e82e125254e86e262e6620c53e07ddf75c888
# https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikibaseManifest/+/refs/heads/REL1_40
WIKIBASEMANIFEST_COMMIT=10f0ddcb7eac28f56999f983f169cf7b1c6e240a
# https://github.com/ProfessionalWiki/WikibaseLocalMedia/tree/master
WIKIBASELOCALMEDIA_COMMIT=6dcc6e82526896352b6bae1df11750f378201fcb
# https://github.com/ProfessionalWiki/WikibaseEdtf/tree/master
WIKIBASEEDTF_COMMIT=5596403a27d8e4a5ac044257c49be3e0685318a6
# https://github.com/magnusmanske/quickstatements/commits/master
QUICKSTATEMENTS_COMMIT=c4b2c6b086b319aa32dcdd7a323edf188faaa66d
# https://bitbucket.org/magnusmanske/magnustools/commits/branch/master
MAGNUSTOOLS_COMMIT=11e19400271a47c4d7e927bcb7aa95f1bfaf38a9
# https://gerrit.wikimedia.org/r/wikidata/query/gui
WDQSQUERYGUI_COMMIT=4e94cdecec4aaa252465429dc9024b3dcc0056b5

# these never need to regularly change but are for for DRY
WIKIBASE_IMAGE_NAME=wikibase
WDQS_IMAGE_NAME=wdqs
WDQS_FRONTEND_IMAGE_NAME=wdqs-frontend
WDQS_PROXY_IMAGE_NAME=wdqs-proxy
ELASTICSEARCH_IMAGE_NAME=elasticsearch
WIKIBASE_BUNDLE_IMAGE_NAME=wikibase-bundle
QUICKSTATEMENTS_IMAGE_NAME=quickstatements

MEDIAWIKI_SETTINGS_TEMPLATE_FILE=LocalSettings.php.template

# Releasing tarballs
RELEASE_DIR=/srv/org/wikimedia/releases/wikibase
RELEASE_SSH_IDENTITY=id_rsa
RELEASE_HOST=releases1002.eqiad.wmnet

# Dockerhub
DOCKER_HUB_ID=wikibasetravis
DOCKER_HUB_REPOSITORY_NAME=wikibase

GZIP_COMPRESSION_RATE=9


DEFAULT_BUNDLE_WMF_EXTENSIONS=Babel,cldr,CirrusSearch,ConfirmEdit,Elastica,EntitySchema,Nuke,OAuth,Scribunto,UniversalLanguageSelector,VisualEditor,WikibaseCirrusSearch,WikibaseManifest
DEFAULT_BUNDLE_EXT_EXTENSIONS=WikibaseLocalMedia

# wikibase default env
MW_SITE_NAME=wikibase-docker
MW_SITE_LANG=en
MW_WG_JOB_RUN_RATE=2
MW_WG_ENABLE_UPLOADS=false
MW_WG_UPLOAD_DIRECTORY=/var/www/html/images
WIKIBASE_PINGBACK=false
